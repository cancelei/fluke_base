<div>
  <%# Breadcrumbs %>
  <div class="breadcrumbs text-sm mb-4">
    <ul>
      <li>
        <%= link_to project_path(@project) do %>
          <%= render Ui::IconComponent.new(name: :folder, size: :sm) %>
          <%= @project.name %>
        <% end %>
      </li>
      <li>
        <%= link_to project_environment_variables_path(@project, environment: @environment_variable.environment) do %>
          <%= render Ui::IconComponent.new(name: :cog_6_tooth, size: :sm) %>
          Environment Variables
        <% end %>
      </li>
      <li class="font-semibold">Edit <%= @environment_variable.key %></li>
    </ul>
  </div>

  <div class="py-5">
    <h1 class="text-2xl font-bold tracking-tight">Edit Environment Variable</h1>
    <p class="mt-1 text-sm text-base-content/60">
      Update <code class="bg-base-200 px-2 py-1 rounded font-mono"><%= @environment_variable.key %></code>
      for <strong><%= @project.name %></strong>
    </p>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <%= render "form" %>
    </div>
  </div>

  <%# Metadata %>
  <div class="mt-6 card bg-base-200/50">
    <div class="card-body py-4">
      <div class="flex flex-wrap gap-6 text-sm text-base-content/60">
        <div>
          <span class="font-medium">Created:</span>
          <%= @environment_variable.created_at.strftime("%b %d, %Y at %H:%M") %>
          by <%= @environment_variable.created_by&.full_name || "Unknown" %>
        </div>
        <% if @environment_variable.updated_by.present? %>
          <div>
            <span class="font-medium">Last updated:</span>
            <%= @environment_variable.updated_at.strftime("%b %d, %Y at %H:%M") %>
            by <%= @environment_variable.updated_by.full_name %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
