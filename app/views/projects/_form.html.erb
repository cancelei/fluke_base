<div class="card bg-base-100 shadow-xl">
  <%= fluke_form_with(
        url:,
        method:,
        model: project,
        class: "space-y-6",
        local: true
      ) do |form| %>

    <div class="card-body">
      <%= render "shared/form_errors", object: project %>

      <div data-controller="stealth-mode repository-validator"
           data-stealth-mode-edit-mode-value="<%= project.persisted? %>"
           data-repository-validator-check-url-value="<%= github_check_access_path %>"
           data-repository-validator-install-url-value="<%= Github::AppConfig.install_url %>">
        <%= render "stealth_mode_section", form:, project: %>

        <%= render "stealth_summary_section", project:, show_summary: false %>

        <%= render "main_form_section", form:, project:, show_form: true %>
      </div>

      <!-- Form Actions -->
      <div class="card-actions justify-end pt-4 border-t border-base-200">
        <%= link_to "Cancel", projects_path, class: "btn btn-ghost" %>
        <%= form.submit_button submit_text, data: { repository_validator_target: "submitButton" } %>
      </div>
    <% end %>
</div>
