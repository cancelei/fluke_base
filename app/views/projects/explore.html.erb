<div class="max-w-7xl mx-auto py-8 sm:px-6 lg:px-8">
  <div class="px-4 py-8 sm:px-0">
    <!-- Header Section -->
    <div class="bg-white/95 backdrop-blur-md shadow-xl ring-1 ring-gray-200/50 border border-gray-100 rounded-2xl mb-8">
      <div class="px-6 py-8 sm:px-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent">Explore Projects</h1>
            <p class="mt-2 text-sm text-gray-600">Discover innovative projects looking for collaboration and mentorship</p>
          </div>
        </div>

        <%= search_form explore_projects_path,
            search_placeholder: "Search projects...",
            filters: [
              {
                name: :category,
                type: :select,
                options: [ [ "All Categories", "" ],
                         [ "Technology", "Technology" ],
                         [ "Health", "Health" ],
                         [ "Education", "Education" ],
                         [ "Finance", "Finance" ],
                         [ "Other", "Other" ] ]
              },
              {
                name: :collaboration_type,
                type: :select,
                options: [ [ "All Types", "" ],
                         [ "Looking for Mentor", "mentor" ],
                         [ "Looking for Co-Founder", "co_founder" ] ]
              }
            ],
            form_options: { class: "flex flex-wrap gap-3" } %>
      </div>
    </div>

    <% if @projects.any? %>
      <%= turbo_frame_tag "projects_explore" do %>
      <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
        <% @projects.each do |project| %>
          <% presenter = present(project) %>
          <%= link_to project_path(project), class: "relative bg-white/95 backdrop-blur-md shadow-xl ring-1 ring-gray-200/50 border border-gray-100 rounded-2xl px-6 py-6 transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] hover:ring-blue-300/50 focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 cursor-pointer group overflow-hidden", style: "text-decoration: none; color: inherit; display: block;" do %>
            <div class="min-w-0 flex-1">
              <!-- Gradient overlay for hover effect -->
              <div class="absolute inset-0 bg-gradient-to-r from-blue-50/0 to-purple-50/0 group-hover:from-blue-50/30 group-hover:to-purple-50/30 transition-all duration-300 rounded-2xl"></div>

              <div class="relative z-10">
                <div class="flex justify-between items-start mb-4">
                  <span class="absolute inset-0" aria-hidden="true"></span>
                  <h3 class="text-lg font-bold text-gray-900 group-hover:text-blue-700 transition-colors duration-200"> <%= presenter.display_name(current_user) %> </h3>

                  <div class="flex flex-col items-end space-y-2">
                    <%= presenter.stage_badge %>
                    <%= presenter.collaboration_badges %>
                    <%= presenter.funding_status_badge %>
                  </div>
                </div>

                <p class="text-sm text-gray-600 line-clamp-3 mb-4"><%= presenter.display_description(current_user, truncate: true, length: 120) %></p>

                <div class="flex items-center mb-4">
                  <div class="flex-shrink-0">
                    <span class="inline-block h-10 w-10 overflow-hidden rounded-xl bg-gradient-to-br from-blue-50 to-purple-50 ring-2 ring-gray-200 group-hover:ring-blue-300 transition-all duration-200">
                      <svg class="h-full w-full text-gray-400 p-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                      </svg>
                    </span>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-semibold text-gray-800">
                      <%= presenter.owner_display %>
                    </p>
                    <p class="text-xs text-gray-500">
                      <%= presenter.created_timeframe %>
                    </p>
                  </div>
                </div>

                <div class="flex items-center justify-between pt-4 border-t border-gray-100 group-hover:border-blue-200 transition-colors duration-200">
                  <span class="text-sm font-semibold text-blue-600 group-hover:text-blue-800 transition-colors duration-200">View Details</span>
                  <svg class="w-5 h-5 text-blue-500 group-hover:text-blue-700 group-hover:translate-x-1 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>

      <!-- Pagination using our shared component with Turbo -->
      <div class="mt-12">
        <%= render partial: "shared/pagination", locals: { records: @projects, class_name: "flex justify-center", remote: true } %>
      </div>
      <% end %>
    <% else %>
      <div class="bg-white/95 backdrop-blur-md shadow-xl ring-1 ring-gray-200/50 border border-gray-100 rounded-2xl overflow-hidden">
        <div class="px-8 py-16 text-center">
          <div class="mx-auto w-16 h-16 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl flex items-center justify-center mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">No projects found</h3>
          <p class="text-sm text-gray-600">Try adjusting your search or filters to discover more projects.</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
