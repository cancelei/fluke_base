<div class="py-8">
    <!-- Header Section -->
    <div class="card bg-base-100 shadow-xl mb-8">
      <div class="card-body">

        <%= search_form explore_projects_path,
            search_placeholder: "Search projects...",
            filters: [
              {
                name: :category,
                type: :select,
                options: [["All Categories", ""],
                         ["Technology", "Technology"],
                         ["Health", "Health"],
                         ["Education", "Education"],
                         ["Finance", "Finance"],
                         ["Other", "Other"]]
              },
              {
                name: :collaboration_type,
                type: :select,
                options: [["All Types", ""],
                         ["Looking for Mentor", "mentor"],
                         ["Looking for Co-Founder", "co_founder"]]
              }
            ],
            form_options: { class: "flex flex-wrap gap-3", data: { turbo_frame: "projects_explore" } } %>
      </div>
    </div>

    <%= turbo_frame_tag "projects_explore" do %>
      <% if @projects.any? %>
        <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
          <% @projects.each do |project| %>
            <% presenter = present(project) %>
            <%= link_to project_path(project), class: "card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] group overflow-hidden", style: "text-decoration: none; color: inherit; display: block;", data: { turbo_frame: "_top" } do %>
              <div class="card-body">
                <div class="flex justify-between items-start mb-4">
                  <h3 class="card-title text-base-content group-hover:text-primary transition-colors duration-200">
                    <%= presenter.display_name(current_user) %>
                  </h3>

                  <div class="flex flex-col items-end space-y-2">
                    <%= presenter.stage_badge %>
                    <%= presenter.collaboration_badges %>
                    <%= presenter.funding_status_badge %>
                  </div>
                </div>

                <p class="text-sm text-base-content/60 line-clamp-3 mb-4"><%= presenter.display_description(current_user, truncate: true, length: 120) %></p>

                <div class="flex items-center mb-4">
                  <div class="flex-shrink-0">
                    <div class="avatar placeholder">
                      <div class="bg-base-200 text-base-content/60 rounded-xl w-10 ring-2 ring-base-200 group-hover:ring-primary/30 transition-all duration-200">
                        <svg class="h-full w-full p-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                      </div>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-semibold text-base-content">
                      <%= presenter.owner_display %>
                    </p>
                    <p class="text-xs text-base-content/60">
                      <%= presenter.created_timeframe %>
                    </p>
                  </div>
                </div>

                <div class="flex items-center justify-between pt-4 border-t border-base-200 group-hover:border-primary/30 transition-colors duration-200">
                  <span class="text-sm font-semibold text-primary group-hover:text-primary-focus transition-colors duration-200">View Details</span>
                  <svg class="w-5 h-5 text-primary group-hover:text-primary-focus group-hover:translate-x-1 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>

        <!-- Pagination using our shared component with Turbo -->
        <div class="mt-12">
          <%= render partial: "shared/pagination", locals: { pagy: @pagy, class_name: "flex justify-center", remote: true } %>
        </div>
      <% else %>
        <div class="card bg-base-100 shadow-xl">
          <div class="card-body items-center text-center py-16">
            <div class="w-16 h-16 bg-base-200 rounded-2xl flex items-center justify-center mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-base-content/50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-base-content mb-2">No projects found</h3>
            <p class="text-sm text-base-content/60">Try adjusting your search or filters to discover more projects.</p>
          </div>
        </div>
      <% end %>
    <% end %>
</div>
