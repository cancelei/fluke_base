<!-- DaisyUI Drawer Component for Conversations -->
<div class="drawer lg:drawer-open h-[80vh]">
  <input id="conversation-drawer" type="checkbox" class="drawer-toggle">

  <!-- Main Content Area -->
  <div class="drawer-content flex flex-col bg-base-100 shadow-sm rounded-lg overflow-hidden">
    <!-- Header with hamburger menu -->
    <h1 class="text-2xl font-bold text-base-content p-4 border-b flex items-center justify-between">
      <div class="flex items-center">
        <label for="conversation-drawer" class="btn btn-ghost btn-circle lg:hidden mr-2" aria-label="Toggle conversations">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </label>
        <span>Messages</span>
      </div>
    </h1>

    <!-- Conversation content -->
    <div id="conversation_content" class="flex-1 flex flex-col overflow-y-auto">
      <%= render "conversations/conversation_content", conversation: @conversation, messages: @messages, message: @message %>
    </div>
  </div>

  <!-- Drawer Sidebar -->
  <div class="drawer-side h-full">
    <label for="conversation-drawer" class="drawer-overlay" aria-label="Close sidebar"></label>
    <div class="menu p-2 w-80 lg:w-96 bg-base-100 h-full overflow-y-auto border-r border-base-300">
      <%= render "conversations/conversation_list", conversations: @conversations, current_conversation: @conversation, current_user: %>
    </div>
  </div>
</div>

<%= turbo_stream_from current_user %>
