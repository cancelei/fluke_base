<div class="bg-white shadow-sm rounded-lg" data-controller="conversation">
  <h1 class="text-2xl font-bold text-gray-900 p-4 border-b flex items-center justify-between">
    Messages
    <!-- Hamburger menu for mobile -->
    <button id="hamburger-btn" class="md:hidden p-2 rounded hover:bg-gray-100 focus:outline-none" aria-label="Toggle conversations" data-action="click->conversation#toggleSidebar">
      <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </h1>
  
  <div class="flex h-[75vh] relative">
    <!-- Sidebar with conversation list -->
    <div id="conversation_list" class="w-1/3 border-r overflow-y-auto">
      <%= render "conversations/conversation_list", conversations: @conversations, current_conversation: @conversation, current_user: current_user %>
    </div>
    
    <!-- Conversation content -->
    <div id="conversation_content" class="w-full md:w-2/3 flex flex-col ml-0 md:ml-0" data-target="conversation-list">
      <%= render "conversations/conversation_content", conversation: @conversation, messages: @conversation&.messages&.to_a || [], message: @message || Message.new %>
    </div>
  </div>
</div>

<%= turbo_stream_from current_user %>
