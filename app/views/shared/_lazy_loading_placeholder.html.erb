<%# Lazy loading placeholder with skeleton animation %>
<%# Usage: render "shared/lazy_loading_placeholder", title: "Loading...", description: "Please wait" %>

<% title ||= nil %>
<% description ||= nil %>
<% variant ||= :default %>
<% skeleton_type ||= :dashboard_widget %>

<div class="card bg-base-100 shadow-xl" role="status" aria-label="Loading content">
  <% if title.present? %>
    <div class="card-body pb-0">
      <h3 class="card-title"><%= title %></h3>
      <% if description.present? %>
        <p class="text-sm text-base-content/70"><%= description %></p>
      <% end %>
    </div>
    <div class="divider my-2"></div>
  <% end %>

  <div class="card-body">
    <% case skeleton_type %>
    <% when :list %>
      <%= render Skeletons::ListComponent.new(count: 3) %>
    <% when :form %>
      <%= render Skeletons::FormComponent.new(fields: 3) %>
    <% when :stats %>
      <%= render Skeletons::StatsComponent.new(count: 3) %>
    <% when :table %>
      <%= render Skeletons::TableComponent.new(rows: 3, columns: 4) %>
    <% else %>
      <%# Default: show spinner with skeleton lines %>
      <div class="flex flex-col items-center justify-center py-6">
        <span class="loading loading-spinner loading-lg text-primary mb-4"></span>
        <div class="w-full max-w-xs space-y-3">
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-3/4"></div>
          <div class="skeleton h-4 w-1/2"></div>
        </div>
      </div>
    <% end %>
  </div>
  <span class="sr-only">Loading content...</span>
</div>
